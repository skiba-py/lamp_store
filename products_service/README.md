# Сервис продуктов

Сервис для управления продуктами в магазине ламп.

## Требования

- Go 1.22 или выше
- PostgreSQL 16 или выше
- Docker и Docker Compose (для запуска в контейнерах)

## Структура проекта

```
products_service/
├── cmd/
│   └── api/              # Точка входа приложения
├── internal/
│   ├── domain/          # Доменные модели и интерфейсы
│   ├── repository/      # Реализации репозиториев
│   ├── service/         # Бизнес-логика
│   └── handler/         # HTTP-обработчики
├── pkg/
│   ├── config/          # Конфигурация приложения
│   └── logger/          # Логирование
├── migrations/          # SQL-миграции
├── Dockerfile          # Конфигурация Docker
├── docker-compose.yml  # Конфигурация Docker Compose
└── config.yaml         # Конфигурация приложения
```

## API Endpoints

### Продукты

- `POST /api/v1/products` - Создание нового продукта
- `GET /api/v1/products` - Получение списка продуктов
- `GET /api/v1/products/{id}` - Получение продукта по ID
- `PUT /api/v1/products/{id}` - Обновление продукта
- `DELETE /api/v1/products/{id}` - Удаление продукта

## Запуск

### Локальный запуск

1. Создайте базу данных PostgreSQL
2. Скопируйте `config.yaml.example` в `config.yaml` и настройте параметры
3. Запустите миграции
4. Запустите приложение:
   ```bash
   go run cmd/api/main.go
   ```

### Запуск в Docker

```bash
docker-compose up -d
```

## Разработка

### Добавление новых миграций

1. Создайте новый файл в директории `migrations` с префиксом следующего номера
2. Добавьте SQL-запросы для обновления схемы базы данных
3. Добавьте SQL-запросы для отката изменений

### Тестирование

```bash
go test ./...
```

## Лицензия

MIT 